{
  "id": "mail_agent",
  "owner_id": "orbimesh-vendor",
  "name": "Mail Agent",
  "description": "Gmail integration via Composio. Read, send, search, and manage emails with full Gmail API capabilities.",
  "agent_type": "http_rest",
  "version": "1.0.0",
  "status": "active",
  "price_per_call_usd": 0.005,
  "requires_credentials": true,
  "credential_fields": [
    {
      "name": "composio_api_key",
      "label": "Composio API Key",
      "type": "password",
      "required": true,
      "description": "Your Composio API key from https://app.composio.dev/settings/api-keys",
      "placeholder": "ak_..."
    },
    {
      "name": "gmail_connection_id",
      "label": "Gmail Connection ID",
      "type": "text",
      "required": true,
      "description": "Your Gmail connection ID from Composio dashboard",
      "placeholder": "Gmail-xxxxx"
    }
  ],
  "connection_config": {
    "base_url": "http://localhost:8040"
  },
  "endpoints": [
    {
      "endpoint": "/fetch_emails",
      "http_method": "POST",
      "description": "List recent emails with sender, subject, labels, and snippet metadata.",
      "parameters": [
        {
          "name": "query",
          "param_type": "string",
          "required": false,
          "description": "Gmail search query (e.g., 'is:unread', 'from:example@gmail.com')"
        },
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to fetch (default: 10)"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        },
        {
          "name": "label_ids",
          "param_type": "array",
          "required": false,
          "description": "Label IDs to filter by (default: ['INBOX'])"
        }
      ]
    },
    {
      "endpoint": "/send_email",
      "http_method": "POST",
      "description": "Send an email with optional attachments already uploaded.",
      "parameters": [
        {
          "name": "to",
          "param_type": "array",
          "required": true,
          "description": "Recipient email addresses"
        },
        {
          "name": "subject",
          "param_type": "string",
          "required": true,
          "description": "Email subject"
        },
        {
          "name": "body",
          "param_type": "string",
          "required": true,
          "description": "Email body (text or HTML)"
        },
        {
          "name": "cc",
          "param_type": "array",
          "required": false,
          "description": "CC addresses"
        },
        {
          "name": "bcc",
          "param_type": "array",
          "required": false,
          "description": "BCC addresses"
        },
        {
          "name": "is_html",
          "param_type": "boolean",
          "required": false,
          "description": "Is body HTML? (default: false)"
        },
        {
          "name": "attachment_file_ids",
          "param_type": "array",
          "required": false,
          "description": "File IDs from file manager to attach"
        },
        {
          "name": "attachment_paths",
          "param_type": "array",
          "required": false,
          "description": "Local file paths to attach"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_message",
      "http_method": "POST",
      "description": "Fetch a specific email body and headers by message ID.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        },
        {
          "name": "format",
          "param_type": "string",
          "required": false,
          "description": "Message format: 'full' or 'minimal' (default: 'full')"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/add_label",
      "http_method": "POST",
      "description": "Apply one or more labels to an email by message ID.",
      "parameters": [
        {
          "name": "message_ids",
          "param_type": "array",
          "required": true,
          "description": "Message IDs to label"
        },
        {
          "name": "label_ids",
          "param_type": "array",
          "required": true,
          "description": "Label IDs to add (e.g., ['IMPORTANT', 'STARRED'])"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/delete_message",
      "http_method": "POST",
      "description": "Move an email to trash by message ID.",
      "parameters": [
        {
          "name": "message_ids",
          "param_type": "array",
          "required": true,
          "description": "Message IDs to delete"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_attachment",
      "http_method": "POST",
      "description": "Download a specific attachment from a message.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        },
        {
          "name": "attachment_id",
          "param_type": "string",
          "required": true,
          "description": "Attachment ID from the message"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/fetch_sent_emails",
      "http_method": "POST",
      "description": "List recently sent emails with metadata.",
      "parameters": [
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to fetch (default: 10)"
        },
        {
          "name": "include_body",
          "param_type": "boolean",
          "required": false,
          "description": "Include full email body (default: true)"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_sent_email",
      "http_method": "POST",
      "description": "Fetch a specific sent email by ID.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID of the sent email"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_last_sent_email",
      "http_method": "POST",
      "description": "Get the most recently sent email.",
      "parameters": []
    },
    {
      "endpoint": "/download_attachments",
      "http_method": "POST",
      "description": "Download all attachments for a message as files.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        }
      ]
    },
    {
      "endpoint": "/search_emails_with_attachments",
      "http_method": "POST",
      "description": "Search emails that contain attachments matching a query.",
      "parameters": [
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to return (default: 10)"
        }
      ]
    },
    {
      "endpoint": "/compose_html_email",
      "http_method": "POST",
      "description": "Generate HTML email content from a prompt.",
      "parameters": [
        {
          "name": "to",
          "param_type": "array",
          "required": true,
          "description": "Recipient addresses"
        },
        {
          "name": "subject",
          "param_type": "string",
          "required": true,
          "description": "Subject"
        },
        {
          "name": "content",
          "param_type": "string",
          "required": true,
          "description": "Email content"
        },
        {
          "name": "template",
          "param_type": "string",
          "required": false,
          "description": "Template: basic, professional, newsletter (default: basic)"
        },
        {
          "name": "header_text",
          "param_type": "string",
          "required": false,
          "description": "Optional header text"
        },
        {
          "name": "footer_text",
          "param_type": "string",
          "required": false,
          "description": "Optional footer text"
        },
        {
          "name": "cc",
          "param_type": "array",
          "required": false,
          "description": "CC addresses"
        },
        {
          "name": "bcc",
          "param_type": "array",
          "required": false,
          "description": "BCC addresses"
        },
        {
          "name": "attachment_file_ids",
          "param_type": "array",
          "required": false,
          "description": "File IDs to attach"
        },
        {
          "name": "attachment_paths",
          "param_type": "array",
          "required": false,
          "description": "File paths to attach"
        }
      ]
    },
    {
      "endpoint": "/format_email_content",
      "http_method": "POST",
      "description": "Format and tidy email content (HTML/text) before sending.",
      "parameters": [
        {
          "name": "content",
          "param_type": "string",
          "required": true,
          "description": "Raw email content to format"
        },
        {
          "name": "format_type",
          "param_type": "string",
          "required": false,
          "description": "Format type: markdown, bullet_points, numbered_list (default: markdown)"
        }
      ]
    },
    {
      "endpoint": "/email_templates",
      "http_method": "GET",
      "description": "Retrieve reusable email templates.",
      "parameters": []
    }
  ],
  "tool_functions": null,
  "tool_registry": null,
  "tags": [],
  "category": null,
  "icon": null,
  "documentation_url": null,
  "public_key_pem": "-----BEGIN PUBLIC KEY-----\nYOUR_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----",
  "capabilities": {
    "categories": [],
    "all_keywords": []
  }
}