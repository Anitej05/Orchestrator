{
  "id": "mail_agent",
  "owner_id": "orbimesh-vendor",
  "name": "Mail Agent",
  "description": "Gmail integration via Composio. Read, send, search, and manage emails with full Gmail API capabilities.",
  "requires_credentials": true,
  "credential_fields": [
    {
      "name": "composio_api_key",
      "label": "Composio API Key",
      "type": "password",
      "required": true,
      "description": "Your Composio API key from https://app.composio.dev/settings/api-keys",
      "placeholder": "ak_..."
    },
    {
      "name": "gmail_connection_id",
      "label": "Gmail Connection ID",
      "type": "text",
      "required": true,
      "description": "Your Gmail connection ID from Composio dashboard",
      "placeholder": "Gmail-xxxxx"
    }
  ],
  "price_per_call_usd": 0.005,
  "status": "active",
  "agent_type": "http_rest",
  "connection_config": {
    "base_url": "http://localhost:8040"
  },
  "endpoints": [
    {
      "endpoint": "/fetch_emails",
      "http_method": "POST",
      "description": "Fetch/search emails from Gmail inbox. Use for 'Check my emails', 'Show unread emails', 'Find emails from John'.",
      "parameters": [
        {
          "name": "query",
          "param_type": "string",
          "required": false,
          "description": "Gmail search query (e.g., 'is:unread', 'from:example@gmail.com')"
        },
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to fetch (default: 10)"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        },
        {
          "name": "label_ids",
          "param_type": "array",
          "required": false,
          "description": "Label IDs to filter by (default: ['INBOX'])"
        }
      ]
    },
    {
      "endpoint": "/send_email",
      "http_method": "POST",
      "description": "Send a new email with optional attachments and HTML formatting. Use for 'Send email to X about Y', 'Email John with the report'.",
      "parameters": [
        {
          "name": "to",
          "param_type": "array",
          "required": true,
          "description": "Recipient email addresses"
        },
        {
          "name": "subject",
          "param_type": "string",
          "required": true,
          "description": "Email subject"
        },
        {
          "name": "body",
          "param_type": "string",
          "required": true,
          "description": "Email body (text or HTML)"
        },
        {
          "name": "cc",
          "param_type": "array",
          "required": false,
          "description": "CC addresses"
        },
        {
          "name": "bcc",
          "param_type": "array",
          "required": false,
          "description": "BCC addresses"
        },
        {
          "name": "is_html",
          "param_type": "boolean",
          "required": false,
          "description": "Is body HTML? (default: false)"
        },
        {
          "name": "attachment_file_ids",
          "param_type": "array",
          "required": false,
          "description": "File IDs from file manager to attach"
        },
        {
          "name": "attachment_paths",
          "param_type": "array",
          "required": false,
          "description": "Local file paths to attach"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_message",
      "http_method": "POST",
      "description": "Get full message details by ID. Use to read a specific email's full content.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        },
        {
          "name": "format",
          "param_type": "string",
          "required": false,
          "description": "Message format: 'full' or 'minimal' (default: 'full')"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/add_label",
      "http_method": "POST",
      "description": "Add labels to emails. Use for 'Mark email as important', 'Star this email'.",
      "parameters": [
        {
          "name": "message_ids",
          "param_type": "array",
          "required": true,
          "description": "Message IDs to label"
        },
        {
          "name": "label_ids",
          "param_type": "array",
          "required": true,
          "description": "Label IDs to add (e.g., ['IMPORTANT', 'STARRED'])"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/delete_message",
      "http_method": "POST",
      "description": "Delete emails by message ID. Use for 'Delete this email', 'Remove message'.",
      "parameters": [
        {
          "name": "message_ids",
          "param_type": "array",
          "required": true,
          "description": "Message IDs to delete"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_attachment",
      "http_method": "POST",
      "description": "Download a specific email attachment.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        },
        {
          "name": "attachment_id",
          "param_type": "string",
          "required": true,
          "description": "Attachment ID from the message"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/fetch_sent_emails",
      "http_method": "POST",
      "description": "Fetch emails you have sent. Use for 'Show my sent emails', 'What emails did I send?'.",
      "parameters": [
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to fetch (default: 10)"
        },
        {
          "name": "include_body",
          "param_type": "boolean",
          "required": false,
          "description": "Include full email body (default: true)"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_sent_email",
      "http_method": "POST",
      "description": "Get a specific sent email by message ID with full content.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID of the sent email"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_last_sent_email",
      "http_method": "POST",
      "description": "Get the most recently sent email. Use for 'What was my last email?', 'Check if email was sent'.",
      "parameters": []
    },
    {
      "endpoint": "/download_attachments",
      "http_method": "POST",
      "description": "Download all attachments from an email. Returns file paths for analysis.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        }
      ]
    },
    {
      "endpoint": "/search_emails_with_attachments",
      "http_method": "POST",
      "description": "Search for emails that have attachments. Use for 'Find emails with attachments'.",
      "parameters": [
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to return (default: 10)"
        }
      ]
    },
    {
      "endpoint": "/compose_html_email",
      "http_method": "POST",
      "description": "Send a professionally formatted HTML email using templates. Use for 'Send a professional email', 'Create a newsletter'.",
      "parameters": [
        {
          "name": "to",
          "param_type": "array",
          "required": true,
          "description": "Recipient addresses"
        },
        {
          "name": "subject",
          "param_type": "string",
          "required": true,
          "description": "Subject"
        },
        {
          "name": "content",
          "param_type": "string",
          "required": true,
          "description": "Email content"
        },
        {
          "name": "template",
          "param_type": "string",
          "required": false,
          "description": "Template: basic, professional, newsletter (default: basic)"
        },
        {
          "name": "header_text",
          "param_type": "string",
          "required": false,
          "description": "Optional header text"
        },
        {
          "name": "footer_text",
          "param_type": "string",
          "required": false,
          "description": "Optional footer text"
        },
        {
          "name": "cc",
          "param_type": "array",
          "required": false,
          "description": "CC addresses"
        },
        {
          "name": "bcc",
          "param_type": "array",
          "required": false,
          "description": "BCC addresses"
        },
        {
          "name": "attachment_file_ids",
          "param_type": "array",
          "required": false,
          "description": "File IDs to attach"
        },
        {
          "name": "attachment_paths",
          "param_type": "array",
          "required": false,
          "description": "File paths to attach"
        }
      ]
    },
    {
      "endpoint": "/format_email_content",
      "http_method": "POST",
      "description": "Format email content with styles (markdown to HTML, bullet points, numbered lists).",
      "parameters": [
        {
          "name": "content",
          "param_type": "string",
          "required": true,
          "description": "Raw email content to format"
        },
        {
          "name": "format_type",
          "param_type": "string",
          "required": false,
          "description": "Format type: markdown, bullet_points, numbered_list (default: markdown)"
        }
      ]
    },
    {
      "endpoint": "/email_templates",
      "http_method": "GET",
      "description": "List available email templates and their descriptions.",
      "parameters": []
    }
  ]
}