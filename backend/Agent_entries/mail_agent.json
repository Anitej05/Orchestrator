{
  "id": "mail_agent",
  "owner_id": "orbimesh-vendor",
  "name": "Mail Agent",
  "description": "Gmail integration via Composio. Read, send, search, and manage emails with full Gmail API capabilities.",
  "agent_type": "http_rest",
  "version": "1.0.0",
  "status": "active",
  "price_per_call_usd": 0.005,
  "requires_credentials": true,
  "credential_fields": [
    {
      "name": "composio_api_key",
      "label": "Composio API Key",
      "type": "password",
      "required": true,
      "description": "Your Composio API key from https://app.composio.dev/settings/api-keys",
      "placeholder": "ak_..."
    },
    {
      "name": "gmail_connection_id",
      "label": "Gmail Connection ID",
      "type": "text",
      "required": true,
      "description": "Your Gmail connection ID from Composio dashboard",
      "placeholder": "Gmail-xxxxx"
    }
  ],
  "connection_config": {
    "base_url": "http://localhost:8040"
  },
  "endpoints": [
    {
      "endpoint": "/fetch_emails",
      "http_method": "POST",
      "description": "List emails with metadata (sender, subject, labels, snippet). USE for retrieving email list. DO NOT USE for full message content. READ-ONLY. DETERMINISTIC.",
      "parameters": [
        {
          "name": "query",
          "param_type": "string",
          "required": false,
          "description": "Gmail search query (e.g., 'is:unread', 'from:example@gmail.com')"
        },
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to fetch (default: 10)"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        },
        {
          "name": "label_ids",
          "param_type": "array",
          "required": false,
          "description": "Label IDs to filter by (default: ['INBOX'])"
        }
      ]
    },
    {
      "endpoint": "/send_email",
      "http_method": "POST",
      "description": "Send email with optional attachments. USE for sending new messages. DO NOT USE for drafts or templates. SENDS EMAIL (irreversible). DETERMINISTIC.",
      "parameters": [
        {
          "name": "to",
          "param_type": "array",
          "required": true,
          "description": "Recipient email addresses"
        },
        {
          "name": "subject",
          "param_type": "string",
          "required": true,
          "description": "Email subject"
        },
        {
          "name": "body",
          "param_type": "string",
          "required": true,
          "description": "Email body (text or HTML)"
        },
        {
          "name": "cc",
          "param_type": "array",
          "required": false,
          "description": "CC addresses"
        },
        {
          "name": "bcc",
          "param_type": "array",
          "required": false,
          "description": "BCC addresses"
        },
        {
          "name": "is_html",
          "param_type": "boolean",
          "required": false,
          "description": "Is body HTML? (default: false)"
        },
        {
          "name": "attachment_file_ids",
          "param_type": "array",
          "required": false,
          "description": "File IDs from file manager to attach"
        },
        {
          "name": "attachment_paths",
          "param_type": "array",
          "required": false,
          "description": "Local file paths to attach"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_message",
      "http_method": "POST",
      "description": "Retrieve full email content by message ID. USE for reading complete message. DO NOT USE for listing emails. READ-ONLY. DETERMINISTIC.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        },
        {
          "name": "format",
          "param_type": "string",
          "required": false,
          "description": "Message format: 'full' or 'minimal' (default: 'full')"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/add_label",
      "http_method": "POST",
      "description": "Add labels to messages (IMPORTANT, STARRED, etc.). USE for organizing emails. DO NOT USE for reading content. MODIFIES METADATA. DETERMINISTIC.",
      "parameters": [
        {
          "name": "message_ids",
          "param_type": "array",
          "required": true,
          "description": "Message IDs to label"
        },
        {
          "name": "label_ids",
          "param_type": "array",
          "required": true,
          "description": "Label IDs to add (e.g., ['IMPORTANT', 'STARRED'])"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/delete_message",
      "http_method": "POST",
      "description": "Move messages to trash. USE for deleting emails. DO NOT USE for permanent deletion. MODIFIES DATA. DETERMINISTIC.",
      "parameters": [
        {
          "name": "message_ids",
          "param_type": "array",
          "required": true,
          "description": "Message IDs to delete"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_attachment",
      "http_method": "POST",
      "description": "Download email attachment by ID. USE for retrieving attached files. DO NOT USE for message body. READ-ONLY. DETERMINISTIC.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        },
        {
          "name": "attachment_id",
          "param_type": "string",
          "required": true,
          "description": "Attachment ID from the message"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/fetch_sent_emails",
      "http_method": "POST",
      "description": "List sent emails with metadata. USE for retrieving sent message list. DO NOT USE for inbox emails. READ-ONLY. DETERMINISTIC.",
      "parameters": [
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to fetch (default: 10)"
        },
        {
          "name": "include_body",
          "param_type": "boolean",
          "required": false,
          "description": "Include full email body (default: true)"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_sent_email",
      "http_method": "POST",
      "description": "Retrieve full content of sent email by ID. USE for reading sent message details. DO NOT USE for inbox. READ-ONLY. DETERMINISTIC.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID of the sent email"
        },
        {
          "name": "user_id",
          "param_type": "string",
          "required": false,
          "description": "Gmail user ID (default: 'me')"
        }
      ]
    },
    {
      "endpoint": "/get_last_sent_email",
      "http_method": "POST",
      "description": "Retrieve most recent sent email. USE for checking last sent message. DO NOT USE for specific message lookup. READ-ONLY. DETERMINISTIC.",
      "parameters": []
    },
    {
      "endpoint": "/download_attachments",
      "http_method": "POST",
      "description": "Download all attachments from message. USE for bulk attachment retrieval. DO NOT USE for single attachment. READ-ONLY. DETERMINISTIC.",
      "parameters": [
        {
          "name": "message_id",
          "param_type": "string",
          "required": true,
          "description": "Gmail message ID"
        }
      ]
    },
    {
      "endpoint": "/search_emails_with_attachments",
      "http_method": "POST",
      "description": "Find emails containing attachments. USE for locating messages with files. DO NOT USE for text search. READ-ONLY. DETERMINISTIC.",
      "parameters": [
        {
          "name": "max_results",
          "param_type": "integer",
          "required": false,
          "description": "Max emails to return (default: 10)"
        }
      ]
    },
    {
      "endpoint": "/compose_html_email",
      "http_method": "POST",
      "description": "Generate and send formatted HTML email from template. USE for styled emails. DO NOT USE for plain text. SENDS EMAIL (irreversible). LLM-DRIVEN IF USING CONTENT GENERATION.",
      "parameters": [
        {
          "name": "to",
          "param_type": "array",
          "required": true,
          "description": "Recipient addresses"
        },
        {
          "name": "subject",
          "param_type": "string",
          "required": true,
          "description": "Subject"
        },
        {
          "name": "content",
          "param_type": "string",
          "required": true,
          "description": "Email content"
        },
        {
          "name": "template",
          "param_type": "string",
          "required": false,
          "description": "Template: basic, professional, newsletter (default: basic)"
        },
        {
          "name": "header_text",
          "param_type": "string",
          "required": false,
          "description": "Optional header text"
        },
        {
          "name": "footer_text",
          "param_type": "string",
          "required": false,
          "description": "Optional footer text"
        },
        {
          "name": "cc",
          "param_type": "array",
          "required": false,
          "description": "CC addresses"
        },
        {
          "name": "bcc",
          "param_type": "array",
          "required": false,
          "description": "BCC addresses"
        },
        {
          "name": "attachment_file_ids",
          "param_type": "array",
          "required": false,
          "description": "File IDs to attach"
        },
        {
          "name": "attachment_paths",
          "param_type": "array",
          "required": false,
          "description": "File paths to attach"
        }
      ]
    },
    {
      "endpoint": "/format_email_content",
      "http_method": "POST",
      "description": "Clean and format email content before sending. USE for tidying draft content. DO NOT USE for sending. READ-ONLY. LLM-DRIVEN.",
      "parameters": [
        {
          "name": "content",
          "param_type": "string",
          "required": true,
          "description": "Raw email content to format"
        },
        {
          "name": "format_type",
          "param_type": "string",
          "required": false,
          "description": "Format type: markdown, bullet_points, numbered_list (default: markdown)"
        }
      ]
    },
    {
      "endpoint": "/email_templates",
      "http_method": "GET",
      "description": "List available email templates. USE for viewing template options. DO NOT USE for sending. READ-ONLY. DETERMINISTIC.",
      "parameters": []
    }
  ],
  "tool_functions": null,
  "tool_registry": null,
  "tags": [],
  "category": null,
  "icon": null,
  "documentation_url": null,
  "public_key_pem": "-----BEGIN PUBLIC KEY-----\nYOUR_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----",
  "capabilities": {
    "categories": [],
    "all_keywords": []
  }
}